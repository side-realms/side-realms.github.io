---
title: "自宅サーバ1: セットアップ"
date: 2023-10-05T17:57:25+09:00
draft: false
---

## はじめに

arxiv やニュースサイトからの情報収集がしんどくなってきたため，自動で情報を収集したい．
RSS リーダから Discord に送ってくれるのが望ましいが，既存の RSS ツールは監視できるフィードに制限があったりする．
調べていると自宅サーバに RSS リーダーをホストする方法があったので，いい機会だということで自宅サーバを作ってみる．
備忘録的なので導入ガイドには使えない．

## 環境

- Intel NUC N100
  - Intel N150
  - RAM 16GB
- 仮想環境
  - Proxmox VE 8.4.1

## 導入

### Proxmox インストール

1. Proxmox の iso をダウンロード
2. Rufu で USB に焼く
3. PC に USB を挿して起動
4. Install Proxmox xxx を選択
5. 利用許諾に同意
6. インストール先のディスクを指定
7. タイムゾーン指定
8. パスワード・メール指定
9. ネットワーク設定
   1. ホスト名：xxx.local
   2. IP アドレスは Proxmox が良い感じに調整してくれているが間違っている (いた) ので自分で静的な IP アドレスを付ける
   3. デフォルトゲートウェイも直す (192.168.xxx.1)
   4. DNSは 8.8.8.8
10. インストールに進む
11. 完了したら勝手に再起動するので USB を抜いて待つ
    1. auto reboot みたいなチェックを外した方がいい
12. 起動するとシェルが開くので OK
13. 以降は作業用 PC から設定を行う
    1. https://192.168.xxx.xxx:8006 にアクセスすれば作業できる

### Proxmox 設定

ブラウザで Web 管理画面に入るとログイン画面が表示される．
username: root, password: 決めたやつ でログインできる．

次にリポジトリの変更をする．
今回は有償版を使わないので，無償版に切り替える．

proxmox -> アップデート -> リポジトリ -> 追加 -> No-Subscription

この上で，有償版のリポジトリを Disable にする．
さらに アップデート -> 再表示 によってアップデートする (apt update)．
次にアップグレードを選択する．

次に MFA を設定する．

データセンタ -> 2要素 -> 追加 -> TOTP

QR コードを読み取るとコードが表示されるのでログインする．

今日はおしまい
